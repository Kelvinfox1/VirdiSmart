{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\devfolder\\\\X\\\\ReactNativeApp\\\\screens\\\\HomeScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Button, TextInput, Card, Title, Paragraph, Avatar } from 'react-native-paper';\nexport default function HomeScreen(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  fetchUser = function fetchUser() {\n    var token;\n    return _regeneratorRuntime.async(function fetchUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n          case 2:\n            token = _context.sent;\n            console.log(\"aaaaaaaaaaaaa4444444444444444a\");\n            fetch(\"http://192.168.43.198:3000/me\", {\n              headers: {\n                Accept: \"application/json\",\n                Authorization: \"Bearer \" + token\n              }\n            }).then(function (res) {\n              return res.json();\n            }).then(function (data) {\n              setEmail(data.email);\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    fetchUser();\n  });\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            AsyncStorage.removeItem(\"token\").then(function () {\n              props.navigation.replace(\"login\");\n            });\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, email), React.createElement(Button, {\n    mode: \"contained\",\n    style: {\n      marginLeft: 18,\n      marginRight: 18,\n      marginTop: 18\n    },\n    onPress: function onPress() {\n      return logout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Logout\"), React.createElement(Card, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, React.createElement(Card.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Your QR Code\"), React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Scan with our Bin to earn points\")), React.createElement(Card.Cover, {\n    source: {\n      uri: 'https://picsum.photos/700'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), React.createElement(Card.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Cancel\"), React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Ok\"))));\n}\nvar styles = StyleSheet.create({\n  card: {\n    marginLeft: 18,\n    marginRight: 18,\n    marginTop: 20\n  }\n});","map":{"version":3,"sources":["D:/devfolder/X/ReactNativeApp/screens/HomeScreen.js"],"names":["React","useEffect","useState","AsyncStorage","Button","TextInput","Card","Title","Paragraph","Avatar","HomeScreen","props","email","setEmail","fetchUser","getItem","token","console","log","fetch","headers","Accept","Authorization","then","res","json","data","logout","removeItem","navigation","replace","fontSize","marginLeft","marginRight","marginTop","styles","card","uri","StyleSheet","create"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react';\nimport { StyleSheet, View, ActivityIndicator, Text } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Button, TextInput,Card, Title, Paragraph,Avatar } from 'react-native-paper';\n\nexport default function HomeScreen(props) {\n\n  const [email, setEmail] = useState(); \n\n fetchUser = async()=>{\n\n  const token = await AsyncStorage.getItem(\"token\")\n  console.log(\"aaaaaaaaaaaaa4444444444444444a\")\n  fetch(\"http://192.168.43.198:3000/me\",{\n    headers:{\n      Accept: \"application/json\",\n      Authorization:`Bearer ${token}`\n    }\n  }).then(res=>res.json())\n  .then((data)=>{\n    setEmail(data.email)\n  })\n}\n\nuseEffect(()=>{\n  fetchUser()\n})\n\nconst logout = async () =>{\n  AsyncStorage.removeItem(\"token\").then(()=>{\n    props.navigation.replace(\"login\")\n  })\n}\n\n  return (\n    <View>\n        <Text style={{fontSize:18}}>{email}</Text>\n        <Button\n        mode=\"contained\"\n        style={{ marginLeft: 18, marginRight: 18, marginTop: 18 }}\n        onPress={() => logout()}>\n        Logout\n        </Button>\n\n      <Card style={styles.card}>\n          <Card.Content>\n            <Title>Your QR Code</Title>\n            <Paragraph>Scan with our Bin to earn points</Paragraph>\n          </Card.Content>\n          <Card.Cover source={{ uri: 'https://picsum.photos/700' }} />\n          <Card.Actions>\n            <Button>Cancel</Button>\n            <Button>Ok</Button>\n          </Card.Actions>\n    </Card>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  card: {\n    marginLeft:18,\n    marginRight:18,\n    marginTop:20\n  },\n});\n"]},"metadata":{},"sourceType":"module"}