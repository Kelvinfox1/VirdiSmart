{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\devfolder\\\\X\\\\ReactNativeApp\\\\screens\\\\LoginScreen.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Button, TextInput, Dialog, Portal, Paragraph, Provider } from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport default function LoginScreen(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      err = _useState6[0],\n      setError = _useState6[1];\n\n  var sendCred = function sendCred(props) {\n    console.log(email, password);\n    fetch(\"http://192.168.43.198:3000/signin\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"email\": email,\n        \"password\": password\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function _callee(data) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(data);\n\n              if (data.error) {\n                setError(data.error);\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', data.token));\n\n            case 5:\n              props.navigation.replace(\"home\");\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(\"Error Async Storage\", _context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[2, 8]], Promise);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      marginTop: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    behavior: \"position\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 35,\n      marginLeft: 18,\n      marginTop: 35,\n      color: \"#3b3b3b\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Welcome to\"), React.createElement(Text, {\n    style: {\n      fontSize: 30,\n      marginLeft: 18,\n      color: \"blue\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"VirdiSmart\"), React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      marginLeft: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Login with email\"), err ? React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      marginLeft: 25,\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, err) : React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 79\n    }\n  }), React.createElement(TextInput, {\n    label: \"Email\",\n    mode: \"outlined\",\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    style: {\n      marginLeft: 18,\n      marginRight: 18,\n      marginTop: 18\n    },\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    label: \"Password\",\n    mode: \"outlined\",\n    secureTextEntry: true,\n    theme: {\n      colors: {\n        primary: \"blue\"\n      }\n    },\n    style: {\n      marginLeft: 18,\n      marginRight: 18,\n      marginTop: 18\n    },\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    mode: \"contained\",\n    style: {\n      marginLeft: 18,\n      marginRight: 18,\n      marginTop: 18,\n      backgroundColor: \"blue\"\n    },\n    onPress: function onPress() {\n      return sendCred(props);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Login\"), React.createElement(TouchableOpacity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      marginLeft: 18,\n      marginTop: 20\n    },\n    onPress: function onPress() {\n      return props.navigation.navigate(\"signup\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"Don't have an account ?\"))));\n}","map":{"version":3,"sources":["D:/devfolder/X/ReactNativeApp/screens/LoginScreen.js"],"names":["StatusBar","React","useState","Button","TextInput","Dialog","Portal","Paragraph","Provider","AsyncStorage","LoginScreen","props","email","setEmail","password","setPassword","err","setError","sendCred","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","setItem","token","navigation","replace","marginTop","fontSize","marginLeft","color","colors","primary","marginRight","text","backgroundColor","navigate"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React,{useState} from 'react';\nimport { StyleSheet, Text, View,TouchableOpacity, KeyboardAvoidingView,Alert } from 'react-native';\nimport { Button, TextInput, Dialog, Portal,Paragraph,Provider} from 'react-native-paper';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function LoginScreen(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [err,setError] = useState(); \n\n\n const sendCred= (props)=>{\n    console.log(email,password) \n    fetch(\"http://192.168.43.198:3000/signin\",{\n      method:\"POST\",\n      headers:{\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify({\n        \"email\":email,\n        \"password\":password\n      })\n    }).then(res=>res.json())\n    .then(async(data)=>{\n      console.log(data)\n      if(data.error){\n        setError(data.error)\n      }\n\n      try {\n        await AsyncStorage.setItem('token', data.token)\n        props.navigation.replace(\"home\")\n\n      } catch (e) {\n        // saving error\n        console.log(\"Error Async Storage\",e)\n      }\n\n    })\n  }\n\n\n\n\n\n  return (\n    <View style={{marginTop:40}}>\n    <KeyboardAvoidingView behavior=\"position\">\n      <Text style={{fontSize:35,marginLeft:18,marginTop:35,color:\"#3b3b3b\", }}>Welcome to</Text>\n      <Text style={{fontSize:30,marginLeft:18,color:\"blue\"}}>VirdiSmart</Text>\n      <Text style={{\n        fontSize:20, marginLeft:18, \n      }}>Login with email</Text>\n\n      {err?\n        <Text style={{fontSize:16,marginLeft:25,color:\"red\", }}>{err}</Text>: <Text></Text>}\n\n        <TextInput\n          label=\"Email\"\n          mode=\"outlined\"\n          theme={{ colors: { primary: \"blue\" } }}\n          style={{ marginLeft: 18, marginRight: 18, marginTop: 18 }}\n          value={email}\n          onChangeText={(text)=>setEmail(text)}\n        />\n\n        <TextInput\n          label=\"Password\"\n          mode=\"outlined\"\n          secureTextEntry={true}\n          theme={{ colors: { primary: \"blue\" } }}\n          style={{ marginLeft: 18, marginRight: 18, marginTop: 18 }}\n          value={password}\n          onChangeText={(text)=>setPassword(text)}\n        />\n\n        <Button\n          mode=\"contained\"\n          style={{ marginLeft: 18, marginRight: 18, marginTop: 18 , backgroundColor:\"blue\"}}\n          onPress={() => sendCred(props)}>\n          Login\n        </Button>\n\n    <TouchableOpacity>\n      <Text style={{fontSize:18, marginLeft:18, marginTop:20}}\n      onPress={() => props.navigation.navigate(\"signup\")}\n      \n      >\n        Don't have an account ?\n      </Text>\n    </TouchableOpacity>\n    </KeyboardAvoidingView>\n    </View>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}